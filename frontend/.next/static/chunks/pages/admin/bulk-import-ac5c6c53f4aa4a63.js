(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{1815:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/bulk-import",function(){return t(2535)}])},2902:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var l=t(5893),a=t(7294);function r(e){let{children:s,fallback:t=null}=e;const[r,n]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{n(!0)}),[]),r?s:t||(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})}},2535:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var l=t(5893),a=t(7294),r=t(9008),n=t.n(r),i=t(1664),d=t.n(i),c=t(2902);function o(){const[e,s]=(0,a.useState)(null),[t,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),h=(0,a.useRef)(null);return(0,l.jsx)(c.Z,{children:(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 via-white to-primary-50",children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:"Bulk Import - Admin Dashboard | Innovations Arena"}),(0,l.jsx)("meta",{name:"description",content:"Admin bulk import tool for startup news platform"})]}),(0,l.jsx)("header",{className:"glass sticky top-0 z-50 border-b border-white/20",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,l.jsxs)(d(),{href:"/",className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-primary rounded-2xl flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white font-bold text-lg",children:"IA"})}),(0,l.jsx)("span",{className:"text-xl font-bold text-gradient",children:"Innovations Arena"})]}),(0,l.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,l.jsx)(d(),{href:"/admin",className:"text-secondary-600 hover:text-primary-600 transition-colors",children:"Dashboard"}),(0,l.jsx)(d(),{href:"/",className:"text-secondary-600 hover:text-primary-600 transition-colors",children:"View Site"})]})]})})}),(0,l.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-secondary-900 mb-4",children:"Bulk Import Stories"}),(0,l.jsx)("p",{className:"text-secondary-600 max-w-2xl mx-auto",children:"Upload multiple startup stories at once using our Excel template. This tool helps you efficiently manage large amounts of content."})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-soft border border-secondary-100 p-6 mb-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"\ud83d\udccb Download Template"}),(0,l.jsx)("p",{className:"text-secondary-600 mb-4",children:"Download our Excel template to ensure your data is formatted correctly. The template includes sample data and column headers."}),(0,l.jsx)("button",{onClick:()=>{const e=["title,summary,category,published_date,image_url,source_url,companies,tags",...[{title:"Sample Startup Story",summary:"This is a sample story description",category:"funding",published_date:"2024-01-15",image_url:"https://example.com/image.jpg",source_url:"https://example.com/source",companies:"Company A, Company B",tags:"startup, funding, tech"}].map((e=>Object.values(e).map((e=>'"'.concat(e,'"'))).join(",")))].join("\n"),s=new Blob([e],{type:"text/csv"}),t=window.URL.createObjectURL(s),l=document.createElement("a");l.href=t,l.download="startup-stories-template.csv",l.click(),window.URL.revokeObjectURL(t)},className:"btn-secondary",children:"\ud83d\udce5 Download CSV Template"})]}),(0,l.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,l.jsx)("span",{className:"text-yellow-600 text-2xl",children:"\u26a0\ufe0f"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-yellow-800",children:"Temporary Notice"})]}),(0,l.jsx)("p",{className:"text-yellow-700 mb-4",children:"File upload functionality is being updated for better compatibility. For now, please use the single story submission form to add content."}),(0,l.jsx)(d(),{href:"/submit",className:"btn-primary",children:"Add Single Story"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-soft border border-secondary-100 p-6 mb-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-secondary-900 mb-4",children:"\ud83d\udce4 Upload File"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"border-2 border-dashed border-secondary-300 rounded-xl p-8 text-center hover:border-primary-400 transition-colors",children:[(0,l.jsx)("input",{ref:h,type:"file",accept:".xlsx,.xls,.csv",onChange:e=>{const t=e.target.files[0];if(t){["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(t.type)?(s(t),m(null)):(m("Please select a valid Excel (.xlsx, .xls) or CSV file"),s(null))}},className:"hidden"}),e?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\u2705"}),(0,l.jsx)("p",{className:"text-secondary-900 font-medium mb-2",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-secondary-500 mb-4",children:[(e.size/1024/1024).toFixed(2)," MB"]}),(0,l.jsx)("button",{onClick:()=>{s(null),h.current.value=""},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove File"})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udcc1"}),(0,l.jsx)("p",{className:"text-secondary-600 mb-2",children:"Drag and drop your Excel file here, or"}),(0,l.jsx)("button",{onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.click()},className:"btn-primary",children:"Browse Files"}),(0,l.jsx)("p",{className:"text-sm text-secondary-500 mt-2",children:"Supports .xlsx, .xls, and .csv files"})]})]}),e&&(0,l.jsx)("button",{onClick:async()=>{if(!e)return void m("Please select a file first");r(!0),m(null),o(null);const s=new FormData;s.append("file",e);try{const e=await fetch("/api/admin/bulk-import",{method:"POST",body:s}),t=await e.json();e.ok?o(t):m(t.error||"Upload failed")}catch(x){m("Network error. Please try again.")}finally{r(!1)}},disabled:t,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:t?(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,l.jsx)("span",{children:"Uploading..."})]}):"Upload Stories"})]})]}),x&&(0,l.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-8",children:(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("span",{className:"text-red-600 text-xl",children:"\u26a0\ufe0f"}),(0,l.jsx)("p",{className:"text-red-700",children:x})]})}),i&&(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,l.jsx)("span",{className:"text-green-600 text-2xl",children:"\u2705"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-green-800",children:"Upload Successful!"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-green-600 font-semibold",children:i.total||0}),(0,l.jsx)("div",{className:"text-green-700",children:"Total Records"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-green-600 font-semibold",children:i.successful||0}),(0,l.jsx)("div",{className:"text-green-700",children:"Successfully Imported"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,l.jsx)("div",{className:"text-red-600 font-semibold",children:i.failed||0}),(0,l.jsx)("div",{className:"text-red-700",children:"Failed Records"})]})]}),i.errors&&i.errors.length>0&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"Errors:"}),(0,l.jsx)("div",{className:"bg-white rounded-lg p-3 max-h-32 overflow-y-auto",children:i.errors.map(((e,s)=>(0,l.jsxs)("div",{className:"text-red-600 text-sm",children:["Row ",e.row,": ",e.message]},s)))})]})]}),(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"\ud83d\udcdd Instructions"}),(0,l.jsxs)("div",{className:"space-y-3 text-blue-700",children:[(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-600",children:"1."}),(0,l.jsx)("p",{children:"Download the template and fill it with your startup stories data"})]}),(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-600",children:"2."}),(0,l.jsx)("p",{children:"Ensure all required fields are filled (title, summary, category)"})]}),(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-600",children:"3."}),(0,l.jsx)("p",{children:"Use valid categories: funding, product, acquisition, ipo, partnership, general"})]}),(0,l.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,l.jsx)("span",{className:"text-blue-600",children:"4."}),(0,l.jsx)("p",{children:"Upload the file and review the results"})]})]})]})]})]})})}}},function(e){e.O(0,[996,774,888,179],(function(){return s=1815,e(e.s=s);var s}));var s=e.O();_N_E=s}]);